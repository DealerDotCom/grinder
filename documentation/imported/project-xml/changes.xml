<?xml version="1.0"  encoding="iso-8859-1"?>

<changes>
<section name='The Grinder 3.0' id='The Grinder 3.0'>
<p>
The console now expects a properties file to be selected, rather than a script. The properties file determines the script to run through the grinder.script property. Other properties override the values in the agents' local grinder.properties file. This provides much better centralised control from the console. </p>
<p>
Updates to the German console translation from Matthias Diller. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1808854&amp;group_id=18598&amp;atid=118598">bug 1808854</a> - Incorrect synchronisation in TestStatisticsMap. Thanks to Ishan Oshadi Jayawardene for the report. </p>
<p>
Partially address feature request in <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1688988&amp;group_id=18598&amp;atid=118598">bug 1688988</a> by translating InterruptedIOExceptions due to timeouts in HTTPClient code to a specific TimeoutException. Thanks to Andrew McGuigan for the report. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1700158&amp;group_id=18598&amp;atid=118598">bug 1700158</a> - ShutdownException thrown when using grinder.duration. Thanks to Caroline Rioux for the report. </p>
<p>
Update the cookie.py example to show how to send a cookie, and to retrieve and modify the cookies for the current thread. Thanks to "tz" and Ying Moy for prompting me to do this. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1825639&amp;group_id=18598&amp;atid=118598">bug 1825639</a> - "Connection ... already opened" when recording HTTPS. Thanks to Peter Zadrozny and Brian Dols for the report. </p>
<p>
Refine logging: </p>
<ul>
<li>
 The first error message is written to the terminal as well as the error log. This is handy for catching script typos. </li>
<li>
 Don't word wrap log messages from the Agent. </li>
<li>
 Don't truncate log lines to an arbitrary number of characters. </li>
</ul>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1831651&amp;group_id=18598&amp;atid=118598">bug 1831651</a> - Some parts of the distribution file filter should be fixed. Also, added ".svn" directories to the default filter - you will need to delete .grinder_console from your home directory/profile to pick up this change. Thanks to Andrew Stephens for the report. </p>
<p>
Fix TCPProxy filter bug which would cause some form data not to be identified and tokenised. Increase the size of form data that will be in-lined in the script. Thanks to Brian Dols for the prompt and testing. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1846218&amp;group_id=18598&amp;atid=118598">bug 1846218</a> - Delayed statistics are not flushed on next test. </p>
<p>
Console script editor keyboard shortcut for "Save-File" (Ctrl-S). </p>
<p>
The console allows files to be opened in a configurable external editor. </p>
<p>
The console optionally automatically distributes changed files when processes are started. </p>
<p>
The -httpplugin and -newhttpplugin TCPProxy filter options have been removed. They were deprecated in 3.0-beta29. The new -http filter should be used instead. </p>
<p>
Upgrade embedded version of Jython from Jython 2.1 to Jython 2.2.1. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1874815&amp;group_id=18598&amp;atid=118598">bug 1874815</a> - '-' does not work in statistics expressions. Also, relax '+' and '*' so they are defined for zero or one argument. Thanks to Heidi Thompson for the report. </p>
</section>
<section name='The Grinder 3.0-beta33' id='The Grinder 3.0-beta33'>
<p>
Fulfil Feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1524827&amp;group_id=18598&amp;atid=368598">Request 1524827</a> - Mnemonics needed. Requested by Travis Bear. </p>
<p>
Fulfil Feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1484448&amp;group_id=18598&amp;atid=368598">Request 1484448</a> - Console window size doesn't persist. Requested by Travis Bear. </p>
<p>
Fulfil Feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1185967&amp;group_id=18598&amp;atid=368598">Request 1185967</a> - Insert comments while capturing with the TCPProxy. Patch implemented by Venelin Mitov. </p>
<p>
Really fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1495428&amp;group_id=18598&amp;atid=118598">bug 1495428</a> - Plugin thread context not correctly registered for events. This bug prevented custom plugins from receiving thread lifecycle events but did not affect the HTTP plugin. Thanks to Klaus-Peter Berg for reporting that this was still broken. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1638659&amp;group_id=18598&amp;atid=118598">bug 1638659</a> - Deadlock in SleeperImplementation. Thanks to Bruce Adams for the report. </p>
<p>
Change the console's monitoring of changes to files so that it no longer assumes system time matches the file system time. This should fix some subtle bugs, particularly for file systems on shared storage. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1639383&amp;group_id=18598&amp;atid=118598">bug 1639383</a> - Extra lines added to Content-Disposition. Previously, The Grinder relied on the script maintaining line endings for textual POST bodies, in particular multipart/form-data. This was brittle, text editors, email, and cross platform transfer frequently alters line endings; and I'm sure the Jython interpreter also takes a liberal approach where a file has mixed line endings. I've applied a simple escaping scheme to fix this. Thanks to Claes T Tenell for the report. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1228335&amp;group_id=18598&amp;atid=118598">bug 1228335</a> - File editing should consider end of line. The console editor now canonicalises line endings on input, and uses the host platform line ending on output. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1619450&amp;group_id=18598&amp;atid=118598">bug 1619450</a> - Unit test HTTPClient.TestCookie.testParse fails. Thanks to Bastiaan Bakker for the report. </p>
<p>
Fulfil Feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1510072&amp;group_id=18598&amp;atid=368598">Request 1510072</a> - Save absolute timestamp somewhere. Log both the current time zone and the start time in milliseconds since the Epoch in the output log. Requested by Vladimir Sitnikov. </p>
<p>
Add process control methods to console API, and provide a factory for obtaining a ConsoleClient. </p>
<p>
Tentative fix to <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1677087&amp;group_id=18598&amp;atid=118598">bug 1677087</a>. Thanks to Matt Moran for the report. </p>
<p>
Remove all support for implicit 'grinder' script context object. It was deprecated in beta 15, and the implementation was broken. </p>
<p>
New Chinese translation from Hugh Chen. If you use this, you'll also need to set up Java for Chinese fonts. The following blog entry may help: http://blog.lizhao.net/2007/03/java-chinese-fonts-on-ubuntu.html </p>
</section>
<section name='The Grinder 3.0-beta32' id='The Grinder 3.0-beta32'>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1577573&amp;group_id=18598&amp;atid=118598">bug 1577573</a> - valueFromBodyURI() could be optimised. TCPProxy recorded scripts use this method, and its previous inefficiency caused beta 30 and beta 31 to be overly demanding of CPU and memory. Thanks to Andy Kim for the original bug report. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1579641&amp;group_id=18598&amp;atid=118598">bug 1579641</a> - Exceptions thrown by HTTPRequest.processResponse() were not logged correctly. Thanks to Richard Taylor for the report. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1585912&amp;group_id=18598&amp;atid=118598">bug 1585912</a> - jdbc.py incorrectly indented. Thanks to Coey (cminear at users.sourceforge.net) for the report. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1593169&amp;group_id=18598&amp;atid=118598">bug 1593169</a> - AssertionError thrown in instrumentation code. Thanks to Peter Wickersham and Matt Schlobohm for the report and analysis. </p>
<p>
Added MQ library and example code from Phillip Mayhew to the contrib directory. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1592664&amp;group_id=18598&amp;atid=118598">bug 1592664</a> - InterruptedException when grinder.processes &gt; 1. This is due to JRE badness that I've had to work around. Thanks to Stephane Nicoll and whoever opened the bug for the reports. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1604111&amp;group_id=18598&amp;atid=118598">bug 1604111</a> - Deadlock on shutdown (TCPProxy). Thanks to Graham Sweetland for his assistance in reproducing this problem. </p>
<p>
Added an initial version of the console API. This API is under development and not stable. It will grow and change over the next few releases. Its not ready for mass consumption yet, but advanced users can check out the API (net.grinder.console.client.ConsoleClient). </p>
</section>
<section name='The Grinder 3.0-beta31' id='The Grinder 3.0-beta31'>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1199086&amp;group_id=18598&amp;atid=118598">bug 1199086</a> - Distribution to multiple agents hangs. Thanks to capwin@sourceforge.net for analysing the problem. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1495428&amp;group_id=18598&amp;atid=118598">bug 1495428</a> - Plugin thread context not correctly registered for events. </p>
<p>
Fix HTTPPlugin TCPProxy filter to remove extraneous quote from reference to POST data files. Thanks to Saurabh Sehgal for the report. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1525387&amp;group_id=18598&amp;atid=118598">bug 1525387</a> - Relax cookie parsing to cope with .NET nonsense. Requested and prototyped by John S. White. </p>
<p>
Fulfil Feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1482811&amp;group_id=18598&amp;atid=368598">Request 1482811</a> - slow socket connections. Requested by Travis Bear. See HTTPPluginConnection.setBandwidthLimit(). Travis and Leland Olney assisted in the testing and fixing of this feature. </p>
<p>
Fix console bug where the Total line in statistics tables could be incorrectly rendered in red. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1525628&amp;group_id=18598&amp;atid=118598">bug 1525628</a> - Throw NotWrappableTypeException not NullPointerException on attempt to wrap a null object. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1527299&amp;group_id=18598&amp;atid=118598">bug 1527299</a> - statistics.delayReports doesn't work with nested tests. This required a significant change to the script statistics API. The script can now distinguish between the statistics for the current test (statistics.forCurrentTest), and the statistics for the last completed test (statistics.forLastTest). If there is a current test, it's statistics can be queried and modified. If there is a last reported test, it's statistics can be queried and can be modified if statistics reports are delayed. </p>
<p>
The statistics for an erroneous test is now recorded in the data log, but not included in the aggregate statistics sent to the console and the summary table (only the number of errors is incremented). This makes the aggregate statistics averages correct, whilst still allowing the test time to be retrieved from the data log. (Previously, the test time was zeroed for erroneous tests, so both the data log and the aggregate statistics averages other than test time were incorrect). </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1484703&amp;group_id=18598&amp;atid=118598">bug 1484703</a> - Total statistics wrong for composite tests. This was most apparent with the HTTP plugin - the total average test time also included the page tests so "double accounted" for the time of individual tests. The statistics display has now been changed so that the statistics for composite tests (tests which wrap calls of other tests) are no longer including in the totals. </p>
</section>
<section name='The Grinder 3.0-beta30' id='The Grinder 3.0-beta30'>
<p>
Fix HTTPlugin TCPProxy filter so that scripts send the real token name back to the server, not the token id. Thanks to VmasterZen for reporting this. </p>
<p>
Changes to the script statistics API: </p>
<p>
Scripts now refer to statistics by name rather than indicies. This means they don't need to use StatisticsIndexMap. This addresses an issue with scripts being unable to access StatisticsIndexMap - thanks to Stefan Grinsted for the report. </p>
<p>
The ScriptContext registerSummaryStatisticsView() and registerDetailStatisticsView() methods have been replaced with Statistics.registerSummaryExpression() and Statistics.registerDataLogExpression(). The new methods use expression strings, rather than requiring the use StatisticsView and ExpressionView objects. </p>
<p>
The scripts no longer need objects from the net.grinder.statistics package; consequently that package has been removed from the statistics API. </p>
<p>
Fix scripts statistics so the query methods work outside of an open test dispatch context; they return values for the last test reported by the worker thread. This was broken by the support for nested tests introduced in the last beta. </p>
<p>
The grinder.recordTime property has been replaced by a new grinder.reportTimesToConsole property. Test times are now always recorded in the worker process data log, irrespective of the value of grinder.reportTimesToConsole. </p>
</section>
<section name='The Grinder 3.0-beta29' id='The Grinder 3.0-beta29'>
<p>
Nested Tests are supported. That is, you can now use a Test to instrument script code that calls things wrapped by other Tests. </p>
<p>
A __target__ field has been added to test proxy wrappers, allowing convenient access to the wrapped object. </p>
<p>
New implementation of the HTTPPlugin TCPProxy filter. Key new features over the previous filter (which is deprecated): </p>
<ul>
<li>
 Records to a single script. </li>
<li>
 Basic Authorization is recorded. </li>
<li>
 Modular implementation based on an XSLT style sheet. </li>
<li>
 Requests are grouped together into pages, using simple rules that guess the resources belonging to a page based on the resource type. Pages are instrumented as separate tests. </li>
<li>
 Name value tokens are identified in URL path parameters and query strings and mapped to script variables. Most session tokens that encoded in URLs or present in hidden form fields will now be handled automatically. </li>
</ul>
<p>
Several changes to the script API, including: net.grinder.plugin.http.HTTPRequest: </p>
<ul>
<li>
 Removed addHeader(), deleteHeader() </li>
<li>
 Header arrays passed to GET, POST, etc. are now merged with the default values held by the HTTPRequest. Previously they setting an array on the request overrode all the default values. </li>
</ul>
<p>
net.grinder.plugininterface.PluginThreadContext: </p>
<ul>
<li>
 getStartTime(), startTimedSection(), stopTimedSection() have been replaced with pauseClock(), resumeClock() to support nested tests. (Since now there can be multiple active dispatch contexts). </li>
</ul>
<p>
net.grinder.script.Statistics: </p>
<ul>
<li>
 Query methods now return meaningful results within wrapped code. </li>
<li>
 Added getStatisticsIndexMap. Thanks to Beecher Greenman for reporting this omission. </li>
</ul>
<p>
net.grinder.plugin.http.HTTPUtilities </p>
<ul>
<li>
 New class. This has methods that HTTP scripts might find useful. </li>
</ul>
<p>
The HTTPClient Authorization module is no longer enabled by default because it prevents raw Authorization headers being sent through. The module also slows things down as HTTPClient must parse responses for challenges. Advanced users who still wish to use the HTTPClient Authorization module can enable it with the new HTTPPluginConnection.setUseAuthorizationModule() method. The following convenience wrappers around the HTTPClient API were also removed: addBasicAuthorization(), removeBasicAuthorization(), addDigestAuthorization(), removeDigestAuthorization(). </p>
<p>
The worker process to console communication has been made more efficient, and a race condition which caused "Ignoring unknown test" messages has been removed. Thanks to Dhinakar K for the report. </p>
<p>
The Grinder can now optionally use J2SE 5 System.nanoTime() which might give more precision on some platforms. Times are still reported in milliseconds. See the grinder.useNanoTime property. Thanks to Tom Barnes for requesting this feature. </p>
<p>
Fix console file scanning to used the same filtering as the file distributon. Thanks to whoever reported this. (<a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1447361&amp;group_id=18598&amp;atid=118598">Bug 1447361</a>). </p>
<p>
The HTTP proxy code in the TCPProxy has been improved; this should address problems seen when chaining TCPProxy's together as HTTPS proxies. Thanks to Justin Nowell for prompting me to look at this. </p>
</section>
<section name='Grinder 3.0-beta28' id='Grinder 3.0-beta28'>
<p>
Updates to the Italian translation from Meo Bogliolo. </p>
<p>
Refactoring of statistics package API. This may affect existing custom plugins. See PluginProcessContext.getStatistics. </p>
<p>
New Russian translation from Konstantin Ignatyev. </p>
<p>
Fix the TCPProxy port forwarding mode to correctly generate https URLs. (<a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1324640&amp;group_id=18598&amp;atid=118598">Bug 1324640</a>). </p>
<p>
Fix the exception logging to include Jython stack traces. Simplify the exception log formatting. </p>
<p>
Java methods can now be wrapped. The resulting object should be invoked Python style, i.e. non-static methods must be supplied with a 'self' instance as the first argument. </p>
<p>
New grinder.debug.singleprocess property. If set to true, the agent process spawns engines in threads rather than processes, using special classloaders to isolate the engines. This allows the engine to be easily run in a debugger. This is primarily a tool for debugging The Grinder engine, but it might also be useful to advanced users. </p>
<p>
More relaxed handling of invalid dates in Cookies. Requested by Martin Wagner. </p>
<p>
Nicer output for ConnectExceptions and UnknownHost exceptions. (<a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=927828&amp;group_id=18598&amp;atid=118598">Bug 927828</a>). </p>
<p>
Handle Cookies with empty expires attribute. (<a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=982834&amp;group_id=18598&amp;atid=118598">Bug 982834</a>). </p>
<p>
Added a pop-up menu to the editor file tree. </p>
<p>
Support Jython 2.2a1. Simply add the Jython 2.2a1 jython.jar to the start of your class path. Thanks to Martin Wagner for prompting me to do this. </p>
<p>
The documentation is now distributed in a separate zip file. </p>
</section>
<section name='Grinder 3.0-beta27' id='Grinder 3.0-beta27'>
<p>
The TCPProxy is now relaxed about empty query strings. Thanks to John Sinclair for the suggestion. </p>
<p>
Updates to the Spanish translation from Jose Antonio Zapata. </p>
<p>
New Polish translation from KArol Muszynski. </p>
<p>
New Italian translation from Meo Bogliolo. </p>
<p>
The documentation sources are now hosted on SourceForge CVS, and are no longer part of the source distribution. See http://sourceforge.net/cvs/?group_id=18598. </p>
<p>
Modify HTTPClient code so that HTTPResponse.getText() works with more content types. (<a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1297821&amp;group_id=18598&amp;atid=118598">Bug 1297821</a>). </p>
<p>
Fix out of date documentation references to getIndexForLong (it has been renamed to getLongIndex). Thanks to Dietrich Bollmann for the report. </p>
</section>
<section name='Grinder 3.0-beta26' id='Grinder 3.0-beta26'>
<p>
The Grinder now requires J2SE 1.4. </p>
<p>
The console now displays agent process status. </p>
<p>
Fix the TCPProxy to cope correctly with 8 bit strings in all locales (<a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1167731&amp;group_id=18598&amp;atid=118598">Bug 1167731</a>). Thanks to Anton Malykh for the report. </p>
<p>
Fix a bug where system properties specified on the command line were incorrectly quoted when building the worker process command line. Thanks to Dietrich Bollmann for the report. </p>
<p>
Be more strict about matching line endings in the HTTP TCPProxy filters. Previously there was a platform specific bug. Thanks to Alex Bolgarov for the report. </p>
<p>
Change to the script API: getGrinderID() has been renamed getProcessName(). </p>
<p>
Correct SSL documentation - The Grinder does not support the javax.net.ssl.* system properties. </p>
<p>
Fix to the JMS receiver example from Dietrich Bollmann: use a queue to pass state between threads in a thread safe way. </p>
<p>
Make the TCPProxy HTTP engine more resilient to connections being dropped. Thanks to Jon Weygandt for the suggestion. </p>
</section>
<section name='Grinder 3.0-beta25' id='Grinder 3.0-beta25'>
<p>
The statistics engine has been enhanced to report the standard deviation of the test times. This addresses Feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1029224&amp;group_id=18598&amp;atid=368598">Request 1029224</a>. The change requires some changes to the statistics API - the timedTests and timedTestTime long statistics have been replaced with a single timedTests long sample statistic; there is currently no way for a script to directly set, or query, timedTests. </p>
<p>
Latest updates from Bertand Ave for the new HTTP Plugin TCPProxy filter. Addresses RFE 1041267, <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1164319&amp;group_id=18598&amp;atid=118598">bug 1164319</a>. </p>
<p>
Change the HTTPlugin TCPProxy filters so that they no longer interpret ';' as a query string separator. Thanks to Nichole Holthoefer for the problem report. </p>
<p>
Fix a bug where the engine would incorrectly override the plugin if the plugin had marked a test as an error. </p>
<p>
Correct a few typos. Thanks to Henry Chan for pointing then out. </p>
<p>
Fix a bug so that Test invocation works from from __init__ or __del__. Thanks to Bertrand Ave for the bug report. </p>
<p>
Most source files have been converted to use the Unix line endings. This is better supported by the Eclipse CVS module and Cygwin tools. </p>
</section>
<section name='Grinder 3.0-beta24' id='Grinder 3.0-beta24'>
<p>
The TCPProxy now returns HTML error messages to the browser where it can. </p>
<p>
When used in the default HTTP proxy mode, the TCPProxy always listens as an HTTPS proxy as well. The TCPProxy -ssl option now only applies to port forwarding mode. </p>
<p>
Fix a bug where the TCPProxy could raise an ArrayIndexOutOfBoundsException. Thanks to Alan Droege for the report. </p>
<p>
Historically The Grinder has used the terms "transaction" and "test" synonymously - this is inconsistent and confusing. "Test" is now used consistently everywhere. </p>
<p>
Fix a bug with the new HTTP instrumentation. The statistics were incorrectly calculated when more than one HTTPRequest was wrapped in a given Test. Thanks to Bernd Pressler and Sebastien Lemeunier for reporting the problem. </p>
<p>
The distribution control in the console is now enabled only if the agent file caches might be out of date. This acts as a visual indication that the files need to be distributed. Added warning dialog about attempting to start the processes without distributing files. </p>
<p>
The process controls in the console are now enabled only if an agent is connected. Added warning dialog about attempting to start the processes with unsaved buffers. </p>
</section>
<section name='Grinder 3.0-beta23' id='Grinder 3.0-beta23'>
<p>
Scripts can now control the SSL context used by each worker thread. This can be used to vary the client certficate based on the thread. Thanks to Ryan Whitaker and William Babilon for requesting this. </p>
<p>
Enhancement from Slavik Gnatenko that allows the grinder.threads, grinder.reportToConsole.interval, and grinder.duration properties to be overridden in scripts initialistion section. </p>
<p>
Fix TCPProxy to make it more relaxed about 8 bit characters in HTTP URLs. Thanks to Thomas B�hne for reporting problems. </p>
<p>
Fix another bug in HTTPClient related to responses with a Content-Length of 0. Thanks to John Lee for the report. </p>
<p>
German console translation updates from Marc Born and Andreas Schmidt. </p>
<p>
French console translation updates from Bertrand Ave. </p>
<p>
New documentation built with Apache Forrest. </p>
<p>
Additional HTTP instrumentation from Calumn Fitzgerald. This adds new statistics measuring time to resolve host names (DNS), time to establish the connection, and time to first byte. </p>
<p>
XML-RPC example from Sebasti�n Fontana. </p>
</section>
<section name='Grinder 3.0-beta22' id='Grinder 3.0-beta22'>
<p>
Major work on console editing and script distribution features. These are undocumented, but now quite usable. See TODO for details of the enhancements to be done in the additional releases before The Grinder 3.0 is promoted out of beta. </p>
<p>
Fix bug in HTTPPlugin. Now The Grinder doesn't automatically follow redirects by default. </p>
<p>
Fix bug in new HTTPPlugin filter which caused an exception when attempting to record POSTs that have query strings. </p>
<p>
Fix bug in HTTPPlugin. Can now handle responses with a Content-Length of 0. </p>
<p>
The TCPProxy now uses a built-in default key store if none is specified. </p>
</section>
<section name='Grinder 3.0-beta21' id='Grinder 3.0-beta21'>
<p>
New process ramp-up feature from Bertrand Ave and Phil Aston. New properties: grinder.initialProcesses, grinder.processIncrement, and grinder.processIncrementInterval. (Whilst this new feature is useful, process ramp-up and other scheduling will eventually be implemented by the console.) </p>
</section>
<section name='Grinder 3.0-beta20' id='Grinder 3.0-beta20'>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=912050&amp;group_id=18598&amp;atid=118598">bug 912050</a> - gr3-b19 doesn't playback recorded URL params. Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=911966&amp;group_id=18598&amp;atid=118598">bug 911966</a> - gr3-b19 doesn't playback User-Agent: header. Thanks to Koen Debruyckere for the timely reports. </p>
<p>
Simplify HTTPRequest API slightly by removing some redundant overloaded methods and ordering parameters for consistently. </p>
<p>
Other fixes to HTTPRequest: </p>
<ul>
<li>
 DELETE() mistakenly invoked a Trace() method. </li>
<li>
 GET() and OPTIONS() could pass header values to query strings. </li>
</ul>
<p>
The PluginRegistry class that a plugin must use has been moved to the plugininterface package. </p>
</section>
<section name='Grinder 3.0-beta19' id='Grinder 3.0-beta19'>
<p>
Removed redundant getLogger() and getFilenameFactory() from PluginProcessContext and PluginThreadContext. Plug-ins can get these services from the script context object and share them with worker threads. </p>
<p>
The PluginRegistry.register() method now takes an instance of GrinderPlugin, rather than a class that implements GrinderPlugin, and no longer returns a PluginProcessContext. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=820481&amp;group_id=18598&amp;atid=118598">bug 820481</a> - StringIndexOutOfBoundsException when logging. Thanks to Dragos Cernahoschi and Gordon Reid for reports. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=805013&amp;group_id=18598&amp;atid=118598">bug 805013</a> - mean time is not correct. Thanks to all who reported this, and to Jan Wilmaers and Bart Bauwens for their investigation and analysis. </p>
<p>
HTTP response errors statistic from John Stanford White. </p>
<p>
Added a processResponse method to HTTPRequest so that scripts subclasses can process respones. </p>
<p>
The console can now be set to start as soon as the first worker process starts its threads. ("Ignore 0 samples"). </p>
</section>
<section name='Grinder 3.0-beta18' id='Grinder 3.0-beta18'>
<p>
Fix console column header resizing by working around Java bug 4760433. </p>
<p>
Fix the TCPProxy SSL support that I inadvertently broke in beta 17. </p>
<p>
Allow the console Look and Feel to be changed. </p>
<p>
HTTPPlugin updates from Bertrand: </p>
<p>
</p>
<ul>
<li>
 Provide access to HTTPClient content and transfer decoding support. </li>
</ul>
<p>
</p>
<ul>
<li>
 Minor updates to HTTPPluginTCPProxyFilter2. </li>
</ul>
<p>
Remove the Sniffer web app. </p>
<p>
Fail hard if script attempts to register detail statistics view from worker thread. </p>
<p>
Support scripts that sleep outside of worker threads. </p>
<p>
Allow table cells to be copied to clipboard and (with J2SE 1.4 and later) copy dragged. </p>
</section>
<section name='Grinder 3.0-beta17' id='Grinder 3.0-beta17'>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=872546&amp;group_id=18598&amp;atid=118598">bug 872546</a> - using HTTPPlugin with no console hangs the worker processes. The change involves explicitly calling InetAddress.getLocalHost() up front, indicating that the underlying cause is a very strange JVM issue. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=876097&amp;group_id=18598&amp;atid=118598">bug 876097</a> - ClonePyInstance not included in grinder.jar. Thanks to Karl Wyer for the report. </p>
<p>
Fix implicit grinder object deprecation message. Thanks to Christian Sell for the report. </p>
<p>
Minor updates and fixes to the HTTPPluginTCPProxyFilters from Bertrand Ave. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=868587&amp;group_id=18598&amp;atid=118598">bug 868587</a> - The HTTP plugin now uses a new SSL session for each thread and for each run. This corresponds to the orthodox grinder model of one run corresponding to one user browser session. Previously SSL sessions were pooled across threads, leading to unrealistic results when using The Grinder to drive a cluster of servers through SSL session-aware load balancers. More SSL sessions will be created, so expect high CPU load on both client and server, and average times for first contact with an HTTPS server within a test run to be significantly higher. Thanks to Joshua Reedy for prompting me to do this, and for testing the change. </p>
<p>
Example of how to use The Grinder with HTTPUnit from Tony Lodge. </p>
<p>
Email script example from Tom Pittard. </p>
<p>
Implement HTTPPluginConnection.removeBasicAuthorization() and HTTPPluginConnection.removeDigestAuthorization(). The parameters to this method, and semantics of the corresponding add methods, have been changed to match HTTPClient. The clearAll methods have been removed from the API. </p>
<p>
Add addValue() methods to the script Statistics API. </p>
<p>
The HTTP plugin now records the length of responses and reports mean response length and response bytes per second to the console. Thanks to John Stafford White for prompting me to do this. I've altered the console tables to word wrap the column labels so that more columns can be displayed neatly. This only appears to size correctly with J2SE 1.3, and even then not every time. J2SE 1.4 only shows the first line. I hope to have this swinging nicely by the next beta. </p>
<p>
Spanish translation updates from Jose Antonio Zapata Rey. </p>
</section>
<section name='Grinder 3.0-beta16' id='Grinder 3.0-beta16'>
<p>
Multicast is no longer used for distributing console messages signals. </p>
<p>
Multicast has been a frequent source of newbie problems, and has also made The Grinder unreasonably hard to use with some corporate network configurations. Console messages are now sent over TCP connections to the agent processes, which fan-out the signals to their worker processes. The processing is multi-threaded and asynchronous and I expect it to scale well. </p>
<p>
IMPORTANT: The communication properties have changed. The following properties can be set in grinder.properties: </p>
<p>
grinder.consoleHost	  (previously grinder.consoleAddress) grinder.consolePort grinder.useConsole    (previously grinder.receiveConsoleSignals / grinder.reportToConsole) </p>
<p>
The grinder.grinderAddress and grinder.grinderPort properties have been removed. Corresponding changes have been made to the console options dialog. </p>
</section>
<section name='Grinder 3.0-beta15' id='Grinder 3.0-beta15'>
<p>
The use of the implicit 'grinder' script context object is deprecated. You should explicitly "from net.grinder.Grinder import grinder" in your scripts to ensure they remain compatible with future releases. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=810532&amp;group_id=18598&amp;atid=118598">bug 810532</a> - problems invoking methods. You can now wrap Jython objects that are subclassed from Java objects. Thanks to Karl Wyer for the report, and also to John Stanford White for requesting this. </p>
<p>
HTTPPluginTCPProxyFilter now records the User-Agent header. Thanks to Danny Faught for pointing out the opportunity. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=852217&amp;group_id=18598&amp;atid=118598">bug 852217</a> - sample interval jumps after I set it. Thanks to Danny Faught for the report. </p>
<p>
Fix/enhance the TCPProxy's support for chained HTTPS proxies. This should now work with a wider range of proxies. </p>
<p>
Improved console error handling. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=852298&amp;group_id=18598&amp;atid=118598">bug 852298</a> - null pointer exception when multicast fails. Thanks to Danny Faught for the report. </p>
<p>
Remove support for grinder.appendLog, I suspect it was rarely used. Add new feature which keeps archives of old logs, see grinder.numberOfOldLogs. This should be much more useful when resetting processes with the console. </p>
<p>
Add a confirm dialog to "Stop Processes" as its probably not what the user wants to do. </p>
<p>
Bertrand Ave has added support for regular expressions to his new HTTPPluginTCPProxyFilter (see notes below). The implementation now has its own response filter; use the TCPProxy "-newhttpplugin" as a short cut. An example properties file can be found in contrib/httpplugin. </p>
</section>
<section name='Grinder 3.0-beta14' id='Grinder 3.0-beta14'>
<p>
Hack HTTPClient to provide a tentative fix to the "premature EOF" problem. This widely reported problem occurs when a server times out and closes a connection, after which writes to the connection silently fail and we don't learn about the problem until we read from the connection. </p>
<p>
Clean up the Jython interpreter correctly so that scripts can use exit functions. (See the standard Python atexit module). </p>
<p>
Guarantee that the TestRunner __del__ call is called on shutdown so that scripts can use it to tidy up per-thread state. Thanks to Stefano Santoro for inspiration. </p>
<p>
Add a new HTTPPluginTCPProxyFilter from Bertrand Ave. This is currently undocumented and should be considered beta, but is more feature rich than the default HTTPPluginTCPProxyFilter. Over time it is likely to become the default HTTPPlugin filter. If you'd like to try it out, you'll need to start the TCPProxy with "-requestFilter net.grinder.plugin.http.HTTPPluginTCPProxyFilter2 -responseFilter net.grinder.plugin.http.HTTPPluginTCPProxyReponseFilter". You'll also need the WebUtils Python module that can be found in contrib/httpplugin. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=850939&amp;group_id=18598&amp;atid=118598">bug 850939</a> - dead link in documentation. Thanks to Danny Faught for the report. </p>
</section>
<section name='Grinder 3.0-beta13' id='Grinder 3.0-beta13'>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=847571&amp;group_id=18598&amp;atid=118598">bug 847571</a> - console does not display image icons. Thanks to Stefano Santoro for the report. </p>
</section>
<section name='Grinder 3.0-beta12' id='Grinder 3.0-beta12'>
<p>
Updates to the TCPProxy from Bertrand Ave: </p>
<p>
</p>
<ul>
<li>
 Added a "-console" switch. When used, the TCPProxy creates a simple Swing dialog that allows it to be cleanly interrupted. </li>
</ul>
<p>
</p>
<ul>
<li>
 Added a "-properties" switch to pass System properties to filter implementations. Removed the HTTPPluginTCPProxyFilter's "-initialTest" option in favour of this more general mechanism. </li>
</ul>
<p>
</p>
<ul>
<li>
 Added a shutdown hook to increase chance of clean shutdown. </li>
</ul>
<p>
Fix TCPProxy so that it supports HTTP/1.1 from the browser when acting as an HTTP Proxy. Recording of cross-site links should now work. Thanks to Jimmy Wang for the report. </p>
<p>
Remove the -proxy option from the TCPProxy. The TCPProxy now listens as an HTTP proxy by default unless either -remoteHost or -remotePort is specified. </p>
<p>
Add a new -httpproxy option to the TCPProxy. This option specifies that output should to be directed through another HTTP/HTTPS proxy; this may help you reach the Internet. There is also a -httpsproxy option which allows you to have a different HTTPS proxy. These options are not supported in port forwarding mode. </p>
<p>
The TCPProxy now supports chains of filters. Some may find "-httpPlugin -requestFilter ECHO -responseFilter ECHO" useful. </p>
<p>
The TCPProxy now displays key store configuration when starting in SSL mode. Support for setting the key store using system properties has been removed. </p>
<p>
Optimise TCPProxy SSL initialisation for speed rather than cryptographic strength. Do not rely on the TCPProxy to provide strong security. </p>
<p>
Change the TCPProxy -timeout option so the TCPProxy will not exit if there are active connections. </p>
<p>
Fix a TCPProxy HTTPS proxy bug that caused SSLHandshakeExceptions when used with Internet Explorer 6.0. </p>
<p>
Enhancement from Richard Perks that allows scripts to specify the local interface to use for HTTP connections. See HTTPPluginConnection.setLocalAddress(). </p>
<p>
HTTP Plugin enhancement: If the User-Agent header is specified, don't append the HTTPClient version string. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=836028&amp;group_id=18598&amp;atid=118598">bug 836028</a> - incorrect platform specific separator for classpath. Thanks to Stefano Santoro for the report. </p>
</section>
<section name='Grinder 3.0-beta11' id='Grinder 3.0-beta11'>
<p>
Updates to the French console translation from Betrand Ave. </p>
<p>
German console translation from Huibert Alblas. </p>
<p>
"grinder." properties specified on the agent command line are now passed through to worker processes. The original motivation for this was to allow the log directory to be set based on the system date. </p>
<p>
HTTPPlugin enhancements: </p>
<p>
</p>
<ul>
<li>
 Script API to set whether an exception should be thrown when establishing an HTTPS connection if the server's certificate doesn't match the host name. The default behaviour has been changed to disable this check. </li>
</ul>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=804272&amp;group_id=18598&amp;atid=118598">bug 804272</a> - console results table column order varies according to how classes are packaged. Thanks to Karl Wyer for the report. </p>
<p>
Updated TCPProxy documentation. </p>
<p>
If console cannot be contacted, don't expect console signals. </p>
<p>
The 'grinder' context object can now be explicitly imported from net.grinder.Grinder.grinder. It is good practice to add an explict import to the top of your scripts so that they can be called as Python modules from other scripts. </p>
<p>
Fix bug so that TestRunners are now initialised using their worker thread. </p>
<p>
New property, grinder.duration, from Kalyanaraman Venkatasubramaniy. This property allows an overall time limit to be set for worker processes. </p>
<p>
Be more agressive about interrupting workers. Thanks to Venkat for the idea and  original implementation. </p>
<p>
Incorporated feature matrix into documentation. Thanks to Edwin DeSouza for his help with this. </p>
</section>
<section name='Grinder 3.0-beta10' id='Grinder 3.0-beta10'>
<p>
Fix saving of console data. (<a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=749461&amp;group_id=18598&amp;atid=118598">Bug 749461</a>). </p>
</section>
<section name='Grinder 3.0-beta9' id='Grinder 3.0-beta9'>
<p>
Incorporate HTTPClient HTTPS patch into main distribution. The Grinder now *requires* the JSSE, so you must install it if you are using a version of the J2SE earlier than 1.4. </p>
<p>
Fix use of J2SE 1.4.1 Color constants. Should compile with J2SE 1.3.1 again. Thanks to Kumar Mettu for the report. </p>
<p>
Minor fixes to how the HTTP Plugin TCPProxy filter parses content length. </p>
<p>
Minor fidling with timing. </p>
<p>
Tutorial from Richard Perks. </p>
<p>
Incorporate the jEdit Syntax package which will be used for development of a console script editor. The basics of the editor are there, but will not be functional until I've reworked the communications layer to allow the script to be distributed. </p>
<p>
The HTTP plugin now records the HTTP response status code to the data log for HTTPRequests that are wrapped in Tests. If multiple HTTPRequests are wrapped in a Test, the status code of the last response is recorded. Thanks to Carlos Franco for the idea. </p>
<p>
Incorporate patch from Bill Schnellinger: Fix HTTPPluginTCPProxyFilter so that large data uploads (&gt;1K) are stored in separate data files rather than inlined in the script. This should fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=702022&amp;group_id=18598&amp;atid=118598">bug 702022</a>. </p>
<p>
Fulfil Feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=732676&amp;group_id=18598&amp;atid=368598">Request 732676</a> raised by Bertrand Ave by adding a "milliseconds since start" column to the data file. </p>
<p>
French console translation from Bertrand Ave. </p>
<p>
Example script that interprets an grinder.properties HTTP test script for The Grinder 2. </p>
</section>
<section name='Grinder 3.0-beta8' id='Grinder 3.0-beta8'>
<p>
Fix a bug in the TCPProxy which prevented the recording of 8-bit POST data. Thanks to Joakim Suarez for the report. </p>
<p>
The TCPProxy now copes with query strings and form data that are not name value pairs. Thanks to Ryan Balsam for the report. </p>
<p>
Tentative fix to <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=690639&amp;group_id=18598&amp;atid=118598">bug 690639</a>. (TCPProxy recorded HTTP script refers to header array before declaration.) </p>
<p>
Documentation updates. Correct JMS example scripts. </p>
<p>
Spruce up console UI. </p>
<p>
Allow the console to be optionally reset with the worker processes. (Feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=686632&amp;group_id=18598&amp;atid=368598">request 686632</a>). </p>
</section>
<section name='Grinder 3.0-beta7' id='Grinder 3.0-beta7'>
<p>
Fix synchronisation of the console new tests event which was causing null pointer exceptions. </p>
<p>
Fix synchronisation of TestStatisticsMap that caused potential data loss and worker process stack traces. </p>
<p>
Fix handling of thread shutdown exceptions. Threads again now respond correctly to shutdown/reset requests. </p>
<p>
Improve console handling of large numbers of tests. </p>
</section>
<section name='Grinder 3.0-beta6' id='Grinder 3.0-beta6'>
<p>
Enhanced statistics API for scripts. </p>
<p>
Documentation. </p>
<p>
Source code clean up. </p>
</section>
<section name='Grinder 3.0-beta5' id='Grinder 3.0-beta5'>
<p>
Expose script and document API to allow scripts to work with custom statistics. </p>
<p>
Rationalise the plugin API so that PluginProcessContext and PluginThreadContext no longer extend Logger and FilenameFactory. </p>
<p>
Add JMS examples. </p>
<p>
Improve cleaning up of child processes when the agent is killed. </p>
<p>
Some script documentation. </p>
</section>
<section name='Grinder 3.0-beta4' id='Grinder 3.0-beta4'>
<p>
Correct implementation to read grinder.consolePort rather than grinder.console.consolePort. Thanks to Dave Tauzell for the report. </p>
<p>
Replace mandatory properties with reasonable defaults. </p>
<p>
Fix HTTPPlugin static initialisation order so that script settings are not overridden by default initialisation. Thanks to Mark Wilson and Brett Schmoll for reports. </p>
<p>
Script API to provide access to The Grinder build version - net.grinder.common.GrinderBuild. </p>
<p>
Script API to provide access to the HTTPClient connection context for a thread - net.grinder.plugin.http.HTTPPluginControl.getHTTPClientContext(). </p>
<p>
Script API to provide access to grinder.properties values - net.grinder.script.ScriptContext.getProperties(). Thanks to Dave Tauzell for feature <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=672691&amp;group_id=18598&amp;atid=368598">request 672691</a>. </p>
</section>
<section name='Grinder 3.0-beta3' id='Grinder 3.0-beta3'>
<p>
Fix bug in wrapping code that broke the hello-world examples. Thanks to Simon Cousins for finding this. </p>
</section>
<section name='Grinder 3.0-beta2' id='Grinder 3.0-beta2'>
<p>
Improved exception handling and logging. Any exception thrown by a wrapped test is recorded as an "error", if the script doesn't catch the exception the run is aborted. </p>
<p>
Jython instances can now be Test.wrap()'d. </p>
<p>
First cut of HTTPPlugin TCPProxy filter. </p>
<p>
HTTPRequest API now has overloaded GET and HEAD methods that take a query string NVPair[]. </p>
</section>
<section name='Grinder 3.0-beta1' id='Grinder 3.0-beta1'>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=608392&amp;group_id=18598&amp;atid=118598">bug 608392</a> - console data file field separator conflicts with localised decimal points. Fields are now tab separated. Thanks to Martin Vilcans for the report. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=631144&amp;group_id=18598&amp;atid=118598">bug 631144</a> - worker processes sometimes fail to launch on real operating systems. Thanks to Martin Voss for the report. </p>
</section>
<section name='Grinder 3.0-beta0' id='Grinder 3.0-beta0'>
<p>
Jython meets The Grinder and the magic starts to happen. </p>
</section>
<section name='Grinder 2.8.6' id='Grinder 2.8.6'>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=608392&amp;group_id=18598&amp;atid=118598">bug 608392</a> - console data file field separator conflicts with localised decimal points. Fields are now tab separated. Thanks to Martin Vilcans for the report. </p>
<p>
Fix <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=631144&amp;group_id=18598&amp;atid=118598">bug 631144</a> - worker processes sometimes fail to launch on real operating systems. Thanks to Martin Voss for the report. </p>
</section>
<section name='Grinder 2.8.5' id='Grinder 2.8.5'>
<p>
Fix TCPSniffer bug for non-proxy, non-ssl startup. </p>
</section>
<section name='Grinder 2.8.4' id='Grinder 2.8.4'>
<p>
Unified HTTP/HTTPS proxy. </p>
<p>
Allow spaces in grinder.properies file names and host names. </p>
<p>
Documentation on The Grinder vs LoadRunner courtesy of Tom Braverman. </p>
<p>
Spanish translation of the console from Jose Antonio Zapata Rey. </p>
</section>
<section name='Grinder 2.8.3' id='Grinder 2.8.3'>
<p>
String beans can now implement an interface that allows them to access the HTTPClient HTTPResponse object. This means that StringBeans can perform assertions on the HTTP response, and snarf data from that response for use in subsequent requests. </p>
<p>
The HTTP plugin is now relaxed when it finds a partial string bean tag, it just outputs the literal text. This allows string bean tags to be used within XML POST data. </p>
<p>
Fix sleepTimeVariation documentation. Thanks to Mika Laitio for the report. </p>
<p>
Allow query strings to be passed with POSTs. Thanks to Kjetil JD for the fix. </p>
<p>
The TCP Sniffer parameters for passing keystore information have changed, see doc/TCPSniffer.txt. </p>
<p>
I've removed the TCP Sniffer URL rewriting filter; use -proxy instead. </p>
<p>
All of the TCP Sniffer engines have been reworked. This SSL proxy engine is more efficient when making multiple requests. The TCP Sniffer -proxy mode can now be used with any filter. The TCP Sniffer should no longer spin CPU when idle. </p>
<p>
Reworked HttpPluginSnifferFilter: </p>
<ul>
<li>
 Outputs a full usable test script. </li>
<li>
 Copes with POST data split across TCP packets. </li>
<li>
 Fixed bug where POST with multiple lines was read incorrectly, this required moving to Jakarta ORO because Jakarta Regexp bombed with a trivial regexp. </li>
<li>
 Removed multipart form handling. </li>
<li>
 Records 401 (authentication) exchanges. </li>
</ul>
<p>
(A note is necessary on the multipart form handling. The more I looked at the existing support in the sniffer, the more dubious it looked. Here's what the HTTP specification says on the subject: </p>
<p>
"In general, HTTP treats a multipart message-body no differently than any other media type: strictly as payload. The one exception is the "multipart/byteranges" type ..." </p>
<p>
This means that the sniffer should just chuck the data directly into the POST file, which is what it now does. And no Cynthia, we do not support multipart/byteranges.) </p>
<p>
Support for disabling persistent connections with the HTTPClient plugin courtesy of Todd Wasson. </p>
<p>
Other miscellaneous fixes and documentation. </p>
</section>
<section name='Grinder 2.8.2' id='Grinder 2.8.2'>
<p>
The Grinder is now released under a BSD style license. </p>
<p>
New UI showing worker process status from Dirk Feufel. </p>
<p>
Fix console communication bug where socket reader threads would sleep each time a dead socket handle was polled. </p>
<p>
Fix SocketPlugin bug where multiple request files were incorrectly handled. Thanks to Hussein Badakhchani for the report. </p>
</section>
<section name='Grinder 2.8.1' id='Grinder 2.8.1'>
<p>
Communication from the worker processes to the Console now uses a unicast TCP connection. Multicast has been used here since the beginning (it was cheap and cheerful to implement) but caused several problems: </p>
<ul>
<li>
 Under heavy load, multicast packets are lost. </li>
<li>
 I've had a report of multicast packets being duplicated. </li>
</ul>
<p>
Clearly neither of these are good for statistics reporting. Signals from the Console to the worker processes still use multicast. </p>
<p>
IMPORTANT: The communication properties have changed, you must set the following in grinder.properties: </p>
<p>
grinder.consoleAddress	(Address of machine running Console) grinder.consolePort grinder.grinderAddress	(Multicast address) grinder.grinderPort </p>
<p>
[grinder.consoleAddress is a new property. grinder.multicastAddress and grinder.multicastPort have been renamed to grinder.grinderAddress and grinder.grinderPort.] </p>
<p>
You should make the corresponding changes in the Console options dialog. Please refer to the README file for more details. </p>
<p>
Fix the data file title line. </p>
<p>
Reinstate the hack to prevent the HTTPClient from sending HTTP trailers. Say -DHTTPClient.disableTrailers=true in your grinder.jvm.arguments. </p>
</section>
<section name='Grinder 2.8' id='Grinder 2.8'>
<p>
New heavy iron statistics engine. Allows plugins to dynamically add new statistics and derived statistic views. </p>
<p>
As an example, I've used the new statistic engine to implement an additional "mean time to first byte" for the HttpURLConnection implementation of the HTTPPlugin. This replaces the old "timeIncludesTransaction" parameter. Support for HTTPClient is more involved and is slated for a future release. </p>
<p>
Console "about" dialog. </p>
</section>
<section name='Grinder 2.7.2' id='Grinder 2.7.2'>
<p>
Console enhancements: </p>
<ul>
<li>
 Console no longer reads grinder.properties: </li>
<li>
 New options dialog to set communication details. </li>
<li>
 Console responds dynamically new tests registered by Grinder processes. </li>
<li>
 Can no longer set ignore samples to 0, doing this used to cause incorrect triggering. </li>
<li>
 Colour coded state label. </li>
</ul>
<p>
Miscellaneous engine enhancements: </p>
<ul>
<li>
 Sleeping processes can now be interrupted by the Console, so they respond more quickly. </li>
<li>
 Logging tweaks. </li>
<li>
 Add dropped message detection to the communications. </li>
</ul>
<p>
HTTPPlugin enhancements: </p>
<ul>
<li>
 Filenames of result pages now contain test description. </li>
</ul>
<p>
More changes to the plugin API: </p>
<ul>
<li>
 A better fix for non-contiguous test numbers that doesn't pollute the Test interface. </li>
<li>
 Coallese processID and hostID into a single grinderID. </li>
<li>
 Much repackaging and rationalisation. Plugins should only need to use the "common" and "plugininterface" packages. </li>
</ul>
</section>
<section name='Grinder 2.7.1' id='Grinder 2.7.1'>
<p>
Fix bug with non-contiguous test numbers. </p>
<p>
Fix basic authentication bug. </p>
</section>
<section name='Grinder 2.7' id='Grinder 2.7'>
<p>
Console enhancements: </p>
<ul>
<li>
 All text is now read from Console.properties (think I18N). </li>
<li>
 Highlight errors labels if errors &gt; 0. </li>
<li>
 Table view now has average TPS and peak TPS. </li>
<li>
 Removed individual sample TPS labels. </li>
<li>
 New last sample statistics tab. </li>
</ul>
<p>
Remove distinction between "abortions" and "errors" from the recorded statistics. All tests now result in a "successful transaction" or an "error". </p>
<p>
Removed deprecated BookHttpPlugin example. Use StringBeans instead. </p>
<p>
Minor changes to the plugin interface. </p>
<p>
New HTTP plugin sniffer filter option, -initialTest. </p>
<p>
HTTPPlugin enhancements </p>
<ul>
<li>
 Can now send arbitrary headers. Note, the specific If-Modified-Since property has been removed, use the arbitrary header support. The TCPSniffer filter has been updated accordingly. </li>
<li>
 Most request strings, including the arbitrary header values, are now affected by the String Bean, see doc/HTTPPlugin.txt. </li>
<li>
 HTTPClient is now the default implementation. The timeIncludesTransaction parameter (which is ignored by the HTTPClient implementation) now defaults to true. HttpURLConnection support is deprecated and will be removed in a future release. See doc/HTTPPlugin.txt for more information, including notes on HTTPS support. </li>
</ul>
<p>
Features from Kalle Burbeck: </p>
<ul>
<li>
 HTTP plugin sniffer filter now has limited support for multipart forms. </li>
<li>
 HTTP plugin sniffer filter now generates test descriptions. </li>
</ul>
<p>
Features from Paddy Spencer: </p>
<ul>
<li>
 New "Sniff 'n' Grind" webapp (the management take no responsibility for Paddy's sense of humour). </li>
</ul>
<p>
</p>
<ul>
<li>
 Reworked HTTP proxy, added new HTTPS proxy </li>
</ul>
<p>
</p>
<ul>
<li>
 TCPSniffer changes: -timeout to set the proxy to timeout; -localSSLPort for use with the HTTPS proxy; -localHost for use with multiple local IP addresses; doesn't barf if you set remote host/port with proxy; </li>
</ul>
</section>
<section name='Grinder 2.6.5' id='Grinder 2.6.5'>
<p>
New tabbed Console layout. </p>
<p>
Arm/stop is now a single Console control. </p>
<p>
New "reset" Console control. This allows you to start a single Grinder process per machine and control the whole show from the Console. </p>
<p>
New Console control for the number of significant figures to display. </p>
<p>
You can now save data from console. </p>
<p>
HTTPClientHandler now supports multiple servers. </p>
<p>
Graph colour is now based on response time. </p>
<p>
Documentation fixes. </p>
</section>
<section name='Grinder 2.6.4' id='Grinder 2.6.4'>
<p>
Fix -colour. </p>
<p>
Fix distribution: add HTTPClient classes to grinder.jar. </p>
<p>
Patch HTTP to fix handling of query strings. </p>
<p>
Fix: don't throw NPE when using HTTPClient to retrieve zero length body response. </p>
<p>
Make the console "ignore samples" and "collect samples" controls text fields rather than sliders - allows big numbers for power users. </p>
<p>
Hack a switch onto HTTPClient to disable the use of trailer-related headers, and use it in HTTPClientHandler. Better for the less well-travelled server implementations. </p>
<p>
Extra documentation. The changes to doc/Timing.txt are particular worth a scan. </p>
</section>
<section name='Grinder 2.6.3' id='Grinder 2.6.3'>
<p>
New socket plugin from David Freels. </p>
<p>
Console summary table now uses a JTable. </p>
<p>
Fix to recording of short response times from Mikael Suokas. </p>
<p>
Thread safety fix from Mikael Suokas. </p>
<p>
Fix basic authentication property names. Thanks to Andrew Sliwkowski for reporting this. </p>
<p>
Added new file doc/Problems.txt to hold wisdom from Mikael Suokas. Split the documentation of the plugins and the TCPSniffer into separate files. </p>
<p>
The HTTP plugin now has experimental support for Ronald Tschal�r's excellent HTTPClient library instead of HttpURLConnection. HTTPClient has many more features than HttpURLConnection, see http://www.innovation.ch/java/HTTPClient/urlcon_vs_httpclient.html for a comparision. I hope to lever features such as proxy support, connection timeouts and persistent cookies into future versions of The Grinder. Unfortunately experimentation shows HTTPClient sometimes does not perform well in a multithreaded environment. I'm guessing this should be straightforward to fix. See the file doc/HTTPPlugin.txt for details on how to turn on the HTTPClient support. </p>
<p>
The TCPSniffer echo filter now reports connection open and close events. </p>
<p>
The TCPSniffer now has a funky "-colour" option. </p>
</section>
<section name='Grinder 2.6.2' id='Grinder 2.6.2'>
<p>
Added support for HTTP basic authentication. You can now use two new HTTP plugin test parameters, basicAuthenticationUser and basicAuthenticationPassword, to specify the appropriate parameters for each request. See README for details. </p>
<p>
New HTTP plugin parameter: timeIncludesTransaction. By default the time that the HTTP plugin reports is the time it takes for the remote server to accept the connection request. When using the times as an indicator of user experience, this is usually what you want. Sometimes however you are more interested in the time the entire HTTP transaction takes, including the time required to read the HTTP response over the network. If so, set this parameter to true. </p>
<p>
Removed property grinder.thread.beginCycleSleepTime, as its redundant. (Use grinder.test0.sleepTime instead). </p>
<p>
New property: grinder.thread.initialSleepTime. See README for details. </p>
<p>
When the property grinder.recordTime is false, the time is no longer logged to the data file. (The prime purpose of recordTime is to control whether times are _reported_ to the console, in fact times are always recorded. This is too subtle for some users ;-) so I've made this change for an easy life). </p>
<p>
Reworked the logging code. The visible change is improved logging of sub-process events to the controlling terminal. </p>
<p>
Changed the sense of the "-norewriteURLs" TCPSniffer option to make it "-rewriteURLs". Rewriting is no longer the default behaviour. </p>
</section>
<section name='Grinder 2.6.1' id='Grinder 2.6.1'>
<p>
Various tweaks to the timing code. The response times reported by your test scripts will almost certainly be smaller and more correct with this version. See doc/Timing.txt for information. </p>
<p>
New property: grinder.recordTime. See the file doc/Timing.txt for details. </p>
<p>
New property: grinder.logProcessStreams. See README for details. </p>
<p>
Handle multiple Set-Cookie headers, courtesy of Christian Nedregard. </p>
</section>
<section name='Grinder 2.6' id='Grinder 2.6'>
<p>
Console rework. Extra knobs and dials which allow the console to be set to capture a certain number of samples - see README for details. New average TPS reporting. </p>
<p>
You can now use the Console to request that Grinder processes exit. ** IMPORTANT** The property "grinder.waitForConsoleSignal" has been renamed to "grinder.receiveConsoleSignals". </p>
<p>
Cool HttpPluginSnifferFilter enhancements from Dr Paddy Spencer that rewrite absolute URLs on the fly. This makes creating test scripts for sites that use absolute URL's much less painful. The solution includes a new way of running the sniffer by defining it as a proxy to the browser. Paddy promises to document all of this RSN. </p>
<p>
Several bug fixes including: </p>
<ul>
<li>
 Don't spin uselessly when not reporting to the console. </li>
<li>
 Don't broadcast needless cruft in the statistics report messages. (read: your network will no longer creak, this explains the need to up the buffer in 2.5). </li>
<li>
 Log directory is no longer mandatory. </li>
</ul>
</section>
<section name='Grinder 2.5' id='Grinder 2.5'>
<p>
The HTTP plugin now supports "string beans". These allow URL's and POST data to be easily parameterised. </p>
<p>
I've up'ed the read buffer size to 64K to allow more test statistics to be sent in a single multicast message. If this is too low you'll get exceptions - either null pointer exceptions in the Receiver or "can't bind to socket" exceptions in the Sender code. If any one is still running into problems, please mail grinder-use@lists.sourceforge.net. </p>
<p>
JRun friendly patch from Stuart Tily. </p>
<p>
Better socket handling for TCPSniffer from Phillip Burgess. </p>
</section>
<section name='Grinder 2.4' id='Grinder 2.4'>
<p>
The console UI has been slightly tidied up. Graphs are now histograms. </p>
<p>
The JUnit plugin should work again. It also has a new parameter (logStackTraces) and improved logging. </p>
<p>
You can now specify an explicit properties file to both the Grinder and the Console as the first argument. For example: </p>
<p>
java net.grinder.Grinder myproperties </p>
<p>
Credit to Marc Stogner for this idea and initial implementaion. </p>
<p>
(More version musings: The last version was _meant_ to named be 2.4, not 2.3.2. According to my schem, increments the third number is meant to be reserved for bug fix releases only. The new console funtionallity really deserves something more significant. Rather than rewriting history, I'm treating 2.3.2 as a "beta" of the console functionality, and upping the second number here.) </p>
</section>
<section name='Grinder 2.3.2' id='Grinder 2.3.2'>
<p>
A shiny new console, with true TPS measurement. </p>
<p>
New communciations layer. </p>
</section>
<section name='Grinder 2.3.1' id='Grinder 2.3.1'>
<p>
Even more bug fixes to the HTTP plugin. The cookie handling has been reworked to more accurately reflect RFC 2109. Multiple cookies should now work, with the exception that only one Set-Cookie header is recognised per request. This is a limitation of the java.net.HttpURLConnection class, which I will rant about at length to anyone who asks. </p>
<p>
The HTTP plugin parameter 'grinder.plugin.parameter.keepSession' has been renamed to 'grinder.plugin.parameter.useCookies'. </p>
<p>
The Grinder now has a logo, courtesy of Richard Wallace. </p>
</section>
<section name='Grinder 2.3' id='Grinder 2.3'>
<p>
A HTTP plugin bug fix release. See the ChangeLog for details. </p>
</section>
<section name='Grinder 2.2' id='Grinder 2.2'>
<p>
The promised JUnit plugin is here! See README for more information. </p>
<p>
I've introduced the concept of a TestSetPlugin that defines the set of tests to perform. This is primarily to support the JUnit plugin. </p>
<p>
Bug fix to SSLSnifferEngine from Paddy Spencer. (You're first name doesn't _have_ to begin with 'P' to get into AUTHORS, but it helps :-)). </p>
<p>
More tweaks to the logging and terminal output. </p>
<p>
The Console _should_ work again. Can't verify this as multicast is currently not working on my machine. </p>
</section>
<section name='Grinder 2.1' id='Grinder 2.1'>
<p>
The plugin interface now has a single "doTest" dispatch interface instead of using reflection. This simplifies the writing of generic plugins. The "grinder.methods" property has been removed. Instead tests are specified by a number of "grinder.testX" properties (where test is any number). See README for details. </p>
<p>
[Support for testing classes using reflection will be provided by a JUnit plugin which will come in 2.2]. </p>
<p>
The "initial sleep time" has been removed, a "begin cycle sleep time" has been added in its place. Individual method sleep times can now be specified. All sleep times are now randomly varied according to a Normal distribution. See README for details. </p>
<p>
The HttpPlugin now supports an "ifModifiedSince" parameter. This translates to the HTTP "If-Modified-Since" request header. This allows the grinder to simulate the mechanism browsers use to check for cached pages. </p>
<p>
The HttpPluginSnifferFilter has been updated to record sleep times, If-Modified-Since headers, and reflect the property format changes. </p>
<p>
The logging of the HTTP plugin has been improved. </p>
<p>
The output and error log format is now more useful. There was no point in displaying the host and process for each line (each process gets its own output file). I've added the current cycle and test number instead. </p>
<p>
I've removed the "simple" and "ejb" plugins as they are not useful in their own right and I got fed up of maintaining them. Both would be best addressed using the planned JUnit plugin. Examples will come with Grinder 2.2. </p>
<p>
We have our first JUnit test case. We need more. </p>
<p>
The TCPSniffer is now silent about SocketExceptions. </p>
<p>
Renamed "GrinderContext" to more correct "PluginContext". Renamed "method" to "test" throughout. </p>
</section>
<section name='Grinder 2.0' id='Grinder 2.0'>
<p>
"Huh - what happened to the version numbers?": This release of the Grinder should be published on http://developer.bea.com/ and its logically a "1.0" release. However, Paco's original was released as 1.6 and I don't want to confuse the public too much as to the latest and greatest. </p>
<p>
New TCPSniffer - the SnifferServlets are dead! (Big thanks to Phil Dawes for the sweat behind this). </p>
<p>
The HTTP plugin now automatically follows redirects only if you set the property </p>
<p>
grinder.plugin.parameter.followRedirects=true </p>
<p>
See the README file for details. </p>
<p>
The build auto-detects what modules to build by checking your classpath for classes the module depends on. You may have to unset your classpath if this doesn't do what you want. Currently the conditionally built modules are: </p>
<p>
HTTP SSL plugin (Needs the JSSE) TCPSniffer SSL engine (Needs the JSSE) TCPSniffer HTTP plugin filter (Needs Apache Jakarta Regexp) WebLogic Server 5.1 Trader EJB plugin (needs WLS Trader EJB) </p>
<p>
Fixed a bug that caused the thread ID to be displayed incorrectly. </p>
<p>
I've added a wrapper class for the Console to the net.grinder package. You should now use "java net.grinder.Console" instead of "java net.grinder.console.Console". All future "main" classes will belong to this package. </p>
</section>
<section name='Grinder 0.9' id='Grinder 0.9'>
<p>
I've finally got rid of PropsLoader. This entails a few changes to properties: </p>
<p>
grinder.jvm.path	-	Specifies the java executable used for the child JVMs. Defaults to "java" so you do not need to specify this if your path is sensible. </p>
<p>
grinder.jvm.classpath -	Use to adjust the classpath used for the child VMs. Anything specified here will be prepended to the classpath used to start the grinder itself. </p>
<p>
grinder.jvm.arguments -	Additional arguments to child JVM's. </p>
<p>
Additionally, grinder.properties does not have to be in your classpath anymore. (I know I said this before - I mean it this time). </p>
<p>
PeterZ found the data file title line useful so I've reinstated it. </p>
<p>
I'm now using Ant 1.2 as the build engine, and have decided to remove Ant from the distrubution. See the build.xml file for more information. </p>
</section>
<section name='Grinder 0.8' id='Grinder 0.8'>
<p>
HTTPS support from Phil Dawes. </p>
<p>
HTTP 302/307 handling from Phil Dawes. </p>
</section>
</changes>

