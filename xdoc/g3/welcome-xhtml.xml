<?xml version="1.0" encoding="UTF-8"?>

<html>
<body>

<br/>
<br/>
<br/>
<br/>
<image src="../images/script-logo.png" align="right"/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<h1>What's new in The Grinder 3?</h1>

<p><em>This section summarises the changes between The Grinder 2 and
The Grinder 3. If you're not familiar with The Grinder 2, skim read
this and move on to <a href="./getting-started.html">Getting
Started</a>.</em></p>

<h2>Jython</h2>

<p>The most significant change that The Grinder 3 introduces is a <a
href="http://www.jython.org">Jython</a> (the Java implementation of
Python) scripting engine that is used to execute test scripts. Test
scripts replace the specification of tests in the
<code>grinder.properties</code> file. The
<code>grinder.properties</code> file is still used to specify general
control information (how to contact the console, how many worker
processes to use, ..), as well as the name of the test script. Many
other key features of The Grinder 2, such as the console and the
process architecture, remain unchanged.</p>


<p>The scripting engine provides the following new capabilities:</p>

<blockquote>
<h4>Test any Java code</h4>

<p>The Grinder 3 allows any Java (or Jython) code to be encapsulated
as a test. This practically removes the need to write custom plug-ins.
Although plug-ins are no longer responsible for performing tests, they
can still be useful to manage objects that the tests use. For example,
the HTTP plug-in manages a pool of connections for each worker thread,
and provides an <code>HTTPRequest</code> object that makes use of
these connections.</p>

<h4>Dynamic test scripting</h4>

<p>The Grinder 2 worker processes execute tests in the properties file
sequentially in a fixed order, and there is limited support in some of
the The Grinder 2 plug-ins for checking test results. The Grinder 3
allows arbitrary branching and looping and makes test results directly
available to the test script, allowing different test paths to be
taken depending on the outcome of each test.</p>

<p>The Grinder 2 HTTP plug-in's <a
href="../manual/http-plugin.html#string-bean">string bean</a> feature
provides simple support for requests that contain dynamic data. The
Grinder 3 can use the full power of Jython to create dynamic requests
of arbitrary complexity.</p>

</blockquote>

<p>Kind of dry, huh? If you never seen any Python or are wondering
what was wrong with the old <code>grinder.properties</code> approach
then skip ahead to the <a href="./script-gallery.html">Script
Gallery</a> where you can sample the power of The Grinder 3.</p>

<h2>New distribution packaging</h2>

<p>The Grinder is distributed in separate binary and source
<code>zip</code> files. They can be downloaded from <a
href="http://www.sourceforge.net/projects/grinder">SourceForge.net</a>.</p>

<p>To simplify SSL and HTTPS configuration, JSSE is now
<em>required</em> for The Grinder 3. Consequently you may find it
easier to use J2SE 1.4.1 with The Grinder 3.</p>

<h2>Other changes</h2>

<ul>

<li>The TCPSniffer has been renamed <em>TCPProxy</em> for correctness.
The TCPProxy can be used with other HTTP and HTTPS proxies.</li>

<li>Console signals are now transmitted over a TCP socket connection.
Mulicast is no longer used.</li>

<li>The interface that plug-ins must implement has changed
significantly. Plug-ins written for The Grinder 2 will not work with
The Grinder 3.</li>

<li>Many <a
href="./getting-started.html#properties"><code>grinder.properties</code></a>
have been removed. The features formerly accessed through setting
properties are now set by making calls to the plug-in from the test
script. Some of the remaining property names have been renamed.</li>

<li>HTTP tests can now be directed through an HTTP proxy.</li>

<li>String beans and OK strings have been removed from the HTTP
plug-in. String beans and OK strings are very limited in comparison to
to the flexibility now provided by Jython scripts.</li>

<li>The <code>HttpURLConnection</code> implementation has been
removed from the HTTP plug-in.</li>

<li>The JUnit and Socket plug-ins have been removed. Their
functionality can be achieved directly by using the appropriate Java
objects in scripts.</li>

</ul>

<h1>Roadmap</h1>

<p>This section documents things that are planned for The Grinder 3.
There are no current release dates for these features.</p>

<h3>Test script distribution</h3>

<p>From the Grinder 3 console you will be able to edit test scripts
and then distribute them to the worker processes. It will no longer be
necessary to copy grinder.properties files around or to use a shared
disk.
</p>

<h3>Embedded Agent</h3>

<p>A new agent will be provided that can be loaded within an existing
Java Virtual Machine. This will allow, for example, threads to be
started within an application server which can run test scripts that
make direct calls against local resources such as EJBs.</p>

</body>
</html>
